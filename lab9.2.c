#include <stdio.h>
#include <stdlib.h>
#include <locale.h>
#include <math.h>

/* Ğ›Ğ°Ğ±Ğ¾Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ½Ğ°Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° 9.2.
13.
ğ‘“(ğ‘¥) = {1, ğ‘¥ < 0
	   {2/(ğ‘¥+2), 0 â‰¤ ğ‘¥ < 1
	   {2ğ‘’ğ‘¥ğ‘(ğ‘¥), ğ‘¥ â‰¥ 1
______________________________________________________________________________
Ğ’Ğ·ÑĞ² Ğ·Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ñƒ ÑĞ²Ğ¾Ñ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñƒ, Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ½ÑƒÑ Ğ´Ğ»Ñ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ
Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸ 2 Ğ»Ğ°Ğ±Ğ¾Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ½Ğ¾Ğ¹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ â„–5 (Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğ¹ ĞºÑƒÑĞ¾Ñ‡Ğ½Ğ¾Ğ·Ğ°Ğ´Ğ°Ğ½Ğ½Ğ¾Ğ¹ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸).
Ğ”Ğ¾Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñƒ Ñ‚Ğ°Ğº, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¾Ğ½Ğ° Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞ»Ğ°
Ñ‚Ğ°Ğ±ÑƒĞ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸, Ñ‚Ğ¾ ĞµÑÑ‚ÑŒ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ğµ Ğ¸ Ğ²Ñ‹Ğ²Ğ¾Ğ´ ĞµĞµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğ¹ Ğ¿Ñ€Ğ¸
Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¸ Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ğ° Ğ¾Ñ‚ Ğ½ĞµĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğ³Ğ¾ Ğ½Ğ°Ñ‡Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ A Ğ´Ğ¾
Ğ½ĞµĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ½ĞµÑ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ B (Ğ²ĞºĞ»ÑÑ‡Ğ°Ñ Ğ Ğ¸ Ğ’) Ñ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ½Ñ‹Ğ¼
ÑˆĞ°Ğ³Ğ¾Ğ¼ C. ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ, Ğ’ Ğ¸ Ğ¡ Ğ²Ğ²Ğ¾Ğ´ÑÑ‚ÑÑ Ñ ĞºĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ñ‹ Ğ¸ Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ğ±Ñ‹Ñ‚ÑŒ
Ğ´Ñ€Ğ¾Ğ±Ğ½Ñ‹Ğ¼Ğ¸ Ñ‡Ğ¸ÑĞ»Ğ°Ğ¼Ğ¸.
*/

void sp() {
	printf("------------------------------------------------\n");
}

// Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ ĞºÑƒÑĞ¾Ñ‡Ğ½Ğ¾-Ğ·Ğ°Ğ´Ğ°Ğ½Ğ½Ğ¾Ğ¹ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ¾Ñ‚ x.
double func(double x) {
	double result = 1;
	if (x >= 1)
	{
		result = 2 * exp(x);

	}

	else if (x < 0)
	{
		result = 1.0;
	}

	else
	{
		result = 2 / (x + 2);
	}

	return result;
}

// ĞŸÑ€Ğ¾ÑÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½ [A; B] ĞºÑƒÑĞ¾Ñ‡Ğ½Ğ¾-Ğ·Ğ°Ğ´Ğ°Ğ½Ğ½Ğ¾Ğ¹ Ñ„ÑƒĞ½ĞºÑ†Ğ¸ĞµĞ¹ Ñ ÑˆĞ°Ğ³Ğ¾Ğ¼ C Ğ¸ Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğ¸Ñ‚ Ğ¿Ñ€Ğ¾Ğ¼ĞµĞ¶ÑƒÑ‚Ğ¾Ñ‡Ğ½Ñ‹Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ Ğ½Ğ° ÑĞºÑ€Ğ°Ğ½.
double calc(double A, double B, double C) {
	double result = 1;

	for (double x = A; x <= B; x += C)
	{
		result = func(x);
		printf_s("Ğ”Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½: [%lf; %lf] | Ğ¨Ğ°Ğ³: %lf\nĞ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ x: %lf\nĞ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ğ¹: %lf\n", A, B, C, x, result);
		sp();
	}

}

int main() {
	setlocale(LC_ALL, "Russian");
	double x = 0, result = 1, A = 0, B = 0, C = 0;

	sp();
	printf_s("Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ»ĞµĞ²ÑƒÑ Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ†Ñƒ Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½Ğ° [A; B]: "); scanf_s("%lf", &A);

	do {
		sp();
		printf_s("Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ¿Ñ€Ğ°Ğ²ÑƒÑ Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ†Ñƒ Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½Ğ° [A; B]: "); scanf_s("%lf", &B);
		if (B <= A) printf("[!] ĞŸÑ€Ğ°Ğ²Ğ°Ñ Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½Ğ° Ğ½Ğµ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ¼ĞµĞ½ÑŒÑˆĞµ Ğ»ĞµĞ²Ğ¾Ğ¹. ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğµ Ğ²Ğ²Ğ¾Ğ´.\n");
	} while (B <= A);
	
	do
	{
		sp();
		printf_s("Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ÑˆĞ°Ğ³ Ğ¿Ñ€Ğ¾Ñ…Ğ¾Ğ´Ğ° Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½Ğ° (C): "); scanf_s("%lf", &C);
		if (C <= 0) printf_s("[!] Ğ¨Ğ°Ğ³ Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ±Ñ‹Ñ‚ÑŒ Ğ¿Ğ¾Ğ»Ğ¾Ğ¶Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¼! ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğµ Ğ²Ğ²Ğ¾Ğ´.\n");
	} while (C <= 0);
	
	sp();

	calc(A, B, C);

	return 0;
}